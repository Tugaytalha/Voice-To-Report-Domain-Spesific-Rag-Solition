\chapter{Experiments and Evaluation}
\label{cha:evaluation}

The evaluation of a clinical decision support tool like InsightBridge must be multifaceted, assessing not only the technical performance of its components but also its clinical validity and impact on workflow. This chapter details the experimental setup, the datasets used to test the system, and the results of a rigorous evaluation process.

\section{Experimental Setup}

To comprehensively evaluate the system's capabilities, a dual-dataset approach was employed, combining a large-scale synthetic dataset with a smaller, high-realism clinical dataset.

\begin{itemize}
    \item \textbf{Synthetic Clinical Dataset (\texttt{ecgen-radiology-tts}):} To test the system's performance on a wide variety of radiological language and report structures, the publicly available `ecgen-radiology` dataset was utilized. This dataset contains a large number of real-world radiology reports. As the reports are text-based, a high-quality Text-to-Speech (TTS) engine was used to convert them into audio files, effectively creating a large, standardized dataset of synthetic dictations. This allowed for repeatable, large-scale testing of the STT and report generation pipeline.
    
    \item \textbf{Real-World Clinical Dataset (Hospital Dictations):} To evaluate the system's performance on genuine clinical data, a set of 12 anonymized radiology dictations was obtained from a hospital. These dictations represent the true complexity and variability of a radiologist's speech, including background noise, hesitations, and complex, unscripted phrasing. This dataset, while smaller, serves as a crucial benchmark for real-world applicability.
\end{itemize}

\section{Component Performance Evaluation}

\subsection{Speech-to-Text (STT) Module Accuracy}
The accuracy of the initial transcription is paramount. The Whisper-based STT module was evaluated against the ground-truth transcripts of the real-world clinical dictations. The system's transcription accuracy, calculated using the Levenshtein distance, was found to be **97.82\%**. This high level of accuracy validates the choice of the Whisper model for this task, confirming its ability to produce reliable transcripts that form a solid foundation for the subsequent report generation steps, even with complex medical terminology.

\subsection{System Performance and Latency}
Beyond accuracy, the system's speed is a critical factor for clinical adoption. The end-to-end processing time, from the conclusion of the dictation to the display of the generated report, was measured across the test cases. For the configuration utilizing `Whisper large-v3-turbo`, `gemma3:4b`, and the `Omerhan/intfloat-fine-tuned-14376-v4` embedding model, the performance results were as follows:
\begin{itemize}
    \item \textbf{Minimum Time:} 28.63 seconds
    \item \textbf{Median Time:} 47.02 seconds
    \item \textbf{Mean Time:} 53.65 seconds
    \item \textbf{Standard Deviation:} 67.12 seconds
    \item \textbf{Maximum Time:} 1126.84 seconds (This was identified as a single outlier, likely caused by a temporary hardware-related anomaly).
\end{itemize}
These results indicate that for a majority of cases, the system can produce a structured report in well under a minute. This represents a significant potential time saving compared to traditional manual transcription and reporting workflows.

\section{End-to-End Report Generation Evaluation}

The primary evaluation focused on the quality of the final, structured report generated from a dictation. This was analyzed using the output from the test datasets, with a representative example shown in Figure \ref{fig:sample_report_2}.

\begin{figure}[!htbp]
    \centering
    \begin{verbatim}
# Radiology Report for 14.03.2025, 13.33.wav

## AI-Generated Report
**Radyoloji Raporu**

**Hasta Bilgileri:**
* Adı Soyadı: Mehmet Nuri, Yüce Bilgen
* Doğum Tarihi: 22-12-84

**1. TETKİK ADI:**
* Kemik Röntgeni (Femur)

**2. TEKNİK:**
* Standart kemik röntgeni. Femur kıkırdağının farklı 
  bölgeleri (Asitabolom) ayrı ayrı görüntülendi.

**3. BULGULAR:**
* Asitabolom Bölgesi: Femur eklem mesafesinde daralma 
  izlenmektedir. Femur köşelerinde sivrileşme mevcuttur. Bu 
  bölgede sıvı birikimi (özellikle Heliposas bölgesinde) 
  gözlenmektedir.
* Diğer Yapılar: İnce amyana giren diğer kemik yapılarının 
  kortikomediyal sinyalleri normaldir...
* Deri: Cilt tiri ve cilt altı yaladaklar normaldir.
* Diğer: Asitabolom'da dejantifin test artışı gözlenmektedir.

**4. SONUÇ:**
* Femur eklem mesafesinde daralma ve sivrileşme mevcuttur. 
  Asitabolom bölgesinde sıvı birikimi tespit edilmiştir.

**5. ÖNERİLER:**
* Ek ileri tetkikler (örn., MRG) değerlendirilmesi gerekebilir.
    \end{verbatim}
    \caption{A condensed, well-structured report generated by the system, demonstrating the creation of distinct clinical sections from a single voice dictation.}
    \label{fig:sample_report_2}
\end{figure}

\subsection{Qualitative Analysis}
An analysis of the generated reports reveals several key capabilities:
\begin{itemize}
    \item \textbf{Automated Sectioning:} The system demonstrates a remarkable ability to parse a continuous stream of dictated text and correctly segment it into standard radiological sections like "TEKNİK," "BULGULAR," and "SONUÇ," without explicit commands from the user.
    \item \textbf{Extraction and Structuring of Findings:} The model successfully identifies and isolates specific clinical findings (e.g., "Femur eklem mesafesinde daralma," "sıvı birikimi") and places them correctly under the "BULGULAR" heading.
    \item \textbf{Contextual Understanding:} The system correctly identifies the examination type ("Kemik Röntgeni (Femur)") and patient details from the dictation, populating the initial fields of the report accurately.
    \item \textbf{Generation of Standardized Content:} Even when not explicitly dictated, the system can generate appropriate standard content, such as suggesting further evaluation under the "ÖNERİLER" section, based on the findings.
\end{itemize}

\subsection{Limitations and Areas for Improvement}
The evaluation also highlighted areas for future work.
\begin{itemize}
    \item \textbf{Data Gaps:} The system notes when information is not available in the dictation (e.g., "Rapor No: (Not: Tekrardan dolayı...)"). While this prevents hallucination, a future version could integrate with a worklist to pre-populate these fields.
    \item \textbf{Lack of Direct HIS Integration:} As designed, the system operates as a standalone tool. It does not yet directly interface with Hospital Information Systems (HIS) or PACS for automated data fetching or report submission. This was a deliberate design choice for this stage of the project to focus on the core generation task, but it is a critical next step for clinical deployment.
\end{itemize}

This detailed evaluation confirms that InsightBridge is a powerful and effective tool. It successfully automates the most time-consuming aspects of radiology reporting, producing structured, accurate drafts that are ready for rapid clinical review. 